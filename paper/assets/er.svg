<svg xmlns="http://www.w3.org/2000/svg" width="960" height="640" viewBox="0 0 960 640">
  <style>
    .box{fill:#fdfdfd;stroke:#333;stroke-width:1.5}
    .title{font: 14px SimSun; font-weight:bold}
    .text{font: 12px SimSun}
    .rel{stroke:#777;stroke-width:1.2}
  </style>

  <!-- Entities -->
  <rect class="box" x="80" y="80" width="220" height="120" rx="8"/>
  <text class="title" x="100" y="105">VendingMachine</text>
  <text class="text" x="100" y="130">id (PK)</text>
  <text class="text" x="100" y="150">code</text>
  <text class="text" x="100" y="170">node_id (FK)</text>

  <rect class="box" x="360" y="80" width="220" height="120" rx="8"/>
  <text class="title" x="380" y="105">Node</text>
  <text class="text" x="380" y="130">id (PK)</text>
  <text class="text" x="380" y="150">name</text>
  <text class="text" x="380" y="170">region_id (FK)</text>

  <rect class="box" x="640" y="80" width="220" height="120" rx="8"/>
  <text class="title" x="660" y="105">Channel</text>
  <text class="text" x="660" y="130">id (PK)</text>
  <text class="text" x="660" y="150">name</text>

  <rect class="box" x="80" y="260" width="220" height="120" rx="8"/>
  <text class="title" x="100" y="285">Task</text>
  <text class="text" x="100" y="310">id (PK)</text>
  <text class="text" x="100" y="330">title</text>
  <text class="text" x="100" y="350">vm_id (FK)</text>

  <rect class="box" x="360" y="260" width="220" height="120" rx="8"/>
  <text class="title" x="380" y="285">TaskDetails</text>
  <text class="text" x="380" y="310">id (PK)</text>
  <text class="text" x="380" y="330">task_id (FK)</text>
  <text class="text" x="380" y="350">detail</text>

  <!-- Relationships -->
  <line class="rel" x1="300" y1="140" x2="360" y2="140" />
  <text class="text" x="310" y="130">located_at</text>

  <line class="rel" x1="190" y1="260" x2="190" y2="200" />
  <text class="text" x="200" y="230">target</text>

  <line class="rel" x1="470" y1="260" x2="470" y2="200" />
  <text class="text" x="480" y="230">has</text>

  <!-- Legend -->
  <text class="text" x="60" y="40">ER 图：设备-点位（归属）、任务-设备（关联）、任务-明细（包含）；渠道为业务维度实体</text>
</svg>
